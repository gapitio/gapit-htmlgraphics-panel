"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[308],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),h=d(n),m=i,u=h["".concat(s,".").concat(m)]||h[m]||p[m]||o;return n?a.createElement(u,l(l({ref:t},c),{},{components:n})):a.createElement(u,l({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=h;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var d=2;d<o;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},4430:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return r},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return c},default:function(){return h}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),l=["components"],r={id:"options",title:"Options"},s=void 0,d={unversionedId:"options",id:"options",isDocsHomePage:!1,title:"Options",description:"Value options",source:"@site/docs/options.md",sourceDirName:".",slug:"/options",permalink:"/docs/options",editUrl:"https://github.com/gapitio/gapit-htmlgraphics-panel/edit/main/website/docs/options.md",tags:[],version:"current",frontMatter:{id:"options",title:"Options"},sidebar:"docsSidebar",previous:{title:"Quick start",permalink:"/docs/quick-start"},next:{title:"References",permalink:"/docs/references"}},c=[{value:"Value options",id:"value-options",children:[{value:"Mutate calcs",id:"mutate-calcs",children:[]}]},{value:"HTML graphics",id:"html-graphics",children:[{value:"Fit content to panel",id:"fit-content-to-panel",children:[]},{value:"Center align content",id:"center-align-content",children:[]},{value:"Overflow",id:"overflow",children:[]},{value:"Root CSS",id:"root-css",children:[]},{value:"CSS",id:"css",children:[]},{value:"HTML/SVG document",id:"htmlsvg-document",children:[]},{value:"Run onRender when mounted",id:"run-onrender-when-mounted",children:[]},{value:"onRender",id:"onrender",children:[]},{value:"Dynamic data",id:"dynamic-data",children:[]},{value:"Dynamic htmlGraphics",id:"dynamic-htmlgraphics",children:[]},{value:"Dynamic fieldDisplayValues",id:"dynamic-fielddisplayvalues",children:[]},{value:"Dynamic props",id:"dynamic-props",children:[]},{value:"Trigger panelupdate when mounted",id:"trigger-panelupdate-when-mounted",children:[]},{value:"Trigger onInit on resize",id:"trigger-oninit-on-resize",children:[]},{value:"onInit",id:"oninit",children:[]}]},{value:"Polyfill",id:"polyfill",children:[{value:"SVG base fix",id:"svg-base-fix",children:[]}]},{value:"Custom properties",id:"custom-properties",children:[{value:"Edit as JSON",id:"edit-as-json",children:[]}]},{value:"Import/export",id:"importexport",children:[]}],p={toc:c};function h(e){var t=e.components,n=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"value-options"},"Value options"),(0,o.kt)("h3",{id:"mutate-calcs"},"Mutate calcs"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Reducer id and calcs are sometimes referred to as the same thing. Calcs here are referred to as the values in the calcs object inside the ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#data-global"},"data object"),"."))),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},'This doesn\'t remove existing calcs. It only adds to it. Changing from "All calcs" to "No mutation" will show all calcs until "Refresh dashboard" button is clicked. ',(0,o.kt)("em",{parentName:"p"},'The data object needs to be updated to remove "previous" calcs')))),(0,o.kt)("p",null,"Some data sources doesn't add the desired calc (some doesn't add calcs at all), which in some cases makes it harder to get the desired value from this plugin."),(0,o.kt)("p",null,"Calcs like max, min, diff, ETC adds all standard calcs, which means that only some custom calcs are allowed."),(0,o.kt)("p",null,"You can check the calcs properties with ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#fieldreducers"},"fieldReducers"),"."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Standard calcs")," ",(0,o.kt)("em",{parentName:"p"},"(calcs with ",(0,o.kt)("inlineCode",{parentName:"em"},"{standard: true}"),")")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "allIsNull": false,\n  "allIsZero": false,\n  "count": 1081,\n  "delta": 5160.296223387697,\n  "diff": -27.562124876418547,\n  "diffperc": -0.7987191943927379,\n  "first": 34.50790349088066,\n  "firstNotNull": 34.50790349088066,\n  "last": 6.945778614462109,\n  "lastNotNull": 6.945778614462109,\n  "logmin": 6.606859716238607,\n  "max": 35.886042023999536,\n  "mean": 19.436556881379083,\n  "min": 6.606859716238607,\n  "nonNullCount": 1081,\n  "previousDeltaUp": false,\n  "range": 29.27918230776093,\n  "step": -0.4993308915394312,\n  "sum": 21010.917988770787\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"All calcs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "allIsNull": false,\n  "allIsZero": false,\n  "count": 720,\n  "delta": -715.3035540645247,\n  "diff": -7.021496923427495,\n  "diffperc": -4.946144132468452,\n  "first": 1.4195900352631468,\n  "firstNotNull": 1.4195900352631468,\n  "last": -5.601906888164349,\n  "lastNotNull": -5.601906888164349,\n  "logmin": 0.07720417385470929,\n  "max": 3.184124812796603,\n  "mean": -4.219071496932824,\n  "min": -11.131454766473656,\n  "nonNullCount": 720,\n  "previousDeltaUp": false,\n  "range": 14.31557957927026,\n  "step": -0.49997734159248264,\n  "sum": -3037.7314777916336,\n\n  // Different from standard\n  "allValues": [\n    1.4195900352631468,\n    1.6835262754797644,\n    1.655662138180408,\n    ... // 717 more values\n  ],\n  "changeCount": 719,\n  "distinctCount": 720,\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"allValues"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"changeCount"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"distinctCount")," are not standard calcs."),(0,o.kt)("h2",{id:"html-graphics"},"HTML graphics"),(0,o.kt)("h3",{id:"fit-content-to-panel"},"Fit content to panel"),(0,o.kt)("p",null,"This is mostly for SVG, as it will scale the content based on the size of the panel.\nAdds 100% height and width attribute to the document."),(0,o.kt)("h3",{id:"center-align-content"},"Center align content"),(0,o.kt)("p",null,'Vertically and horizontally aligns the panel content to the center.\nAdds "display: flex; justify-content: center; align-items: center" to the shadow root container.'),(0,o.kt)("h3",{id:"overflow"},"Overflow"),(0,o.kt)("p",null,'Chooses what happens if content overflows outside the panel.\n"Fit content to panel" is recommended to turn on with some of these options, as some of these won\'t work without it.'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://github.com/gapitio/gapit-htmlgraphics-panel/raw/879c71528a1a7360895f6b1de002b06a00f1be5b/src/img/screenshot-overflow.png",alt:"Overflow options"})),(0,o.kt)("h3",{id:"root-css"},"Root CSS"),(0,o.kt)("p",null,"CSS that's loaded outside the shadowroot. Useful for font faces and imports."),(0,o.kt)("p",null,"Below code imports the ",(0,o.kt)("a",{parentName:"p",href:"https://fonts.google.com/specimen/Stick+No+Bills"},"Stick No Bills")," font"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"Root CSS")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-css"},"@import url('https://fonts.googleapis.com/css2?family=Stick+No+Bills:wght@200&display=swap');\n")),(0,o.kt)("p",null,"The font can be used inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"CSS")," code."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"CSS")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-css"},"* {\n  font-family: 'Stick No Bills', sans-serif;\n}\n")),(0,o.kt)("h3",{id:"css"},"CSS"),(0,o.kt)("p",null,"The style which can be used to style the HTML/SVG document.\nGets added next to the html document."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},"#shadow-root\n<style>\n  /* The CSS */\n</style>\n<div>HTML/SVG document</div>\n")),(0,o.kt)("h3",{id:"htmlsvg-document"},"HTML/SVG document"),(0,o.kt)("p",null,"The html/svg code which is displayed on the panel."),(0,o.kt)("h3",{id:"run-onrender-when-mounted"},"Run onRender when mounted"),(0,o.kt)("p",null,"Run onRender when the panel is first loaded (in most cases, this should be true)"),(0,o.kt)("h3",{id:"onrender"},"onRender"),(0,o.kt)("p",null,"Executes the code every render (when new data is available)."),(0,o.kt)("h3",{id:"dynamic-data"},"Dynamic data"),(0,o.kt)("p",null,"Update the ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#data"},"data object")," when new data is available. The code will not execute again, it will only update the ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#data"},"data object"),". This is only for onInit, onRender will update like normal."),(0,o.kt)("h3",{id:"dynamic-htmlgraphics"},"Dynamic htmlGraphics"),(0,o.kt)("p",null,"Update ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#htmlgraphics-global"},"htmlGraphics")," when new data is available."),(0,o.kt)("h3",{id:"dynamic-fielddisplayvalues"},"Dynamic fieldDisplayValues"),(0,o.kt)("p",null,"Update ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#fielddisplayvalues"},"fieldDisplayValues")," when new data is available."),(0,o.kt)("h3",{id:"dynamic-props"},"Dynamic props"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Only values under ",(0,o.kt)("inlineCode",{parentName:"p"},"htmlGraphics.props")," becomes dynamic. Internally the ",(0,o.kt)("inlineCode",{parentName:"p"},"htmlGraphics.width")," comes from props, but it does not become dynamic, because it's mapped to the int value."))),(0,o.kt)("p",null,"Update ",(0,o.kt)("a",{parentName:"p",href:"/docs/references#props"},"props")," when new data is available."),(0,o.kt)("h3",{id:"trigger-panelupdate-when-mounted"},"Trigger panelupdate when mounted"),(0,o.kt)("p",null,"Trigger the panelupdate event (htmlNode.onpanelupdate) when the panel is first loaded (in most cases, this should be true)"),(0,o.kt)("h3",{id:"trigger-oninit-on-resize"},"Trigger onInit on resize"),(0,o.kt)("p",null,"Trigger the onInit code when the panels width/height changes."),(0,o.kt)("h3",{id:"oninit"},"onInit"),(0,o.kt)("p",null,"Executes when the panel loads"),(0,o.kt)("h2",{id:"polyfill"},"Polyfill"),(0,o.kt)("h3",{id:"svg-base-fix"},"SVG base fix"),(0,o.kt)("p",null,"Fixes an issue in Firefox where xlink:href needs the url to be able to find the link.\n",(0,o.kt)("a",{parentName:"p",href:"https://stackoverflow.com/a/18265336"},"https://stackoverflow.com/a/18265336"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://www.w3.org/TR/SVG/linking.html"},"https://www.w3.org/TR/SVG/linking.html")),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Exiting and entering edit mode may cause it break, but pressing f5 fixes it."))),(0,o.kt)("h2",{id:"custom-properties"},"Custom properties"),(0,o.kt)("p",null,"Custom properties can be used to easily change values when multiple people are working on it. E.g."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Change the range of a color."),(0,o.kt)("li",{parentName:"ul"},"Toggle between showcase and production mode, to show how it would look if there were values there."),(0,o.kt)("li",{parentName:"ul"},"Toggle between themes."),(0,o.kt)("li",{parentName:"ul"},"Increase the max value of a bar.")),(0,o.kt)("p",null,"Having a json file sort of as a configuration file makes it much easier to copy a panel and change some values in the json file instead of going through the javascript code for it."),(0,o.kt)("p",null,"Think of this scenario: You have three dashboards with similar graphics. The only difference is a value range. You can create one code for all three panels, and have a configuration file (Custom properties) with the ranges. Also makes it much easier to change later on (bugs, changes and additions) when the code is similar on all the panels."),(0,o.kt)("h3",{id:"edit-as-json"},"Edit as JSON"),(0,o.kt)("p",null,"Shows the JSON code in a code editor"),(0,o.kt)("h2",{id:"importexport"},"Import/export"),(0,o.kt)("p",null,"Import a file with the file picker ",(0,o.kt)("em",{parentName:"p"},"(a file can be dragged to it)")," or paste the json code into the code editor."),(0,o.kt)("p",null,"All the options and code can be easily copied ",(0,o.kt)("em",{parentName:"p"},"(exported)")," or imported with this."),(0,o.kt)("p",null,"The bundlers generate a panel-options.json file which makes it pretty easy to copy the generated code into the panel."))}h.isMDXComponent=!0}}]);